// Upsell Business Agency - Translation System
const translations = {
    en: {
        // Navigation
        nav: {
            home: "Home",
            services: "Services",
            projects: "Projects",
            about: "About Me",
            startProject: "Start Project"
        },
        
        // Hero Section
        hero: {
            title1: "Transform Your Business",
            title2: "With AI-Powered Software",
            subtitle: "From intelligent customer service to advanced automation - I create custom software that leaves your competition far behind.",
            cta1: "Discover the Possibilities",
            cta2: "View My Work",
            stat1Value: "50+",
            stat1Label: "Successful Projects",
            stat2Value: "95%",
            stat2Label: "Client Satisfaction",
            stat3Value: "24/7",
            stat3Label: "AI Automation",
            scrollText: "Scroll for more"
        },
        
        // Services Section
        services: {
            label: "What I Build",
            title: "Software That Delivers",
            titleAccent: "Results",
            subtitle: "Every project is developed with precision to solve your specific challenges",
            
            service1Title: "AI Customer Service Automation",
            service1Desc: "Intelligent chatbots and AI agents that help customers 24/7, answer questions and drive sales - without human intervention.",
            service1Feature1: "Natural Language Processing",
            service1Feature2: "Multilingual support",
            service1Feature3: "Learning algorithms",
            
            service2Title: "Full-Stack Web Development",
            service2Desc: "Complete web applications from concept to deployment. React frontends, Node.js backends, and MongoDB databases - all under one roof.",
            service2Feature1: "Responsive design",
            service2Feature2: "Real-time functionality",
            service2Feature3: "Scalable architecture",
            
            service3Title: "Native Mobile Apps",
            service3Desc: "Powerful mobile applications for iOS and Android with React Native. One codebase, two platforms, unlimited possibilities.",
            service3Feature1: "Cross-platform development",
            service3Feature2: "Native performance",
            service3Feature3: "Push notifications & offline mode",
            
            service4Title: "Process Automation",
            service4Desc: "Automate repetitive tasks and workflows. From data processing to email campaigns - let software do the heavy lifting.",
            service4Feature1: "Workflow orchestration",
            service4Feature2: "API integrations",
            service4Feature3: "Scheduled tasks & triggers"
        },
        
        // Projects Section
        projects: {
            label: "Portfolio",
            title: "Projects That Make",
            titleAccent: "Impact",
            subtitle: "A selection of my work that shows what's possible",
            
            project1Title: "AI Customer Service Platform",
            project1Desc: "A fully automated customer service platform that handles 85% of all customer inquiries independently for a major e-commerce retailer.",
            project1Result1Value: "85%",
            project1Result1Label: "Fewer support tickets",
            project1Result2Value: "3x",
            project1Result2Label: "Faster response time",
            
            project2Title: "WaitSmart AI - Healthcare Waiting List Manager",
            project2Desc: "AI-driven solution for the Dutch waiting list crisis. Reduces waiting times by 40% and improves data quality to 95%+ for 109,000+ mental health patients.",
            project2Result1Value: "40%",
            project2Result1Label: "Shorter waiting times",
            project2Result2Value: "€1.2M",
            project2Result2Label: "Annual savings",
            
            project3Title: "MagicCutAI - AI Creative Platform",
            project3Desc: "A fully AI-powered creative platform for video editing, image generation and logo design. With advanced character consistency.",
            project3Result1Value: "95%",
            project3Result1Label: "Cost savings",
            project3Result2Value: "10x",
            project3Result2Label: "Faster content",
            
            viewProject: "Live Demo →",
            viewWebsite: "Visit Website →",
            ctaText: "Curious about more projects?",
            ctaButton: "Let's Talk"
        },
        
        // About Section
        about: {
            label: "About Me",
            title: "The Developer Who Brings Your",
            titleAccent: "Vision",
            titleEnd: "to Life",
            text1: "As a passionate full-stack developer with a specialization in AI, I help businesses transform their processes with smart software solutions. From automating customer service to building scalable web applications - I ensure technology works for you, not the other way around.",
            text2: "With expertise in React, Node.js, MongoDB and the latest AI technologies, I create solutions that not only work today, but are ready for tomorrow. Every project is an opportunity to build something unique that adds real value.",
            experience: "5+ Years Experience",
            specialist: "AI Specialist"
        },
        
        // Contact Section
        contact: {
            label: "Contact",
            title: "Ready to",
            titleAccent: "Transform",
            titleEnd: "Your Business?",
            text: "Let's discuss how AI and modern software can take your business to the next level. No obligations, just a good conversation about the possibilities.",
            
            benefit1Title: "Free Consultation",
            benefit1Text: "30 minutes brainstorming about your project",
            benefit2Title: "ROI Analysis",
            benefit2Text: "Discover what automation can deliver for you",
            benefit3Title: "Fast Start",
            benefit3Text: "From idea to working software in weeks",
            
            nameLabel: "Your Name",
            emailLabel: "Email Address",
            companyLabel: "Company Name",
            projectTypeLabel: "Select Project Type",
            projectType1: "AI Automation",
            projectType2: "Web Application",
            projectType3: "Mobile App",
            projectType4: "Full-Stack Project",
            projectType5: "Other",
            messageLabel: "Tell Me About Your Project",
            submitButton: "Start Your Transformation",
            
            successMessage: "Thank you for your message! We'll contact you within 24 hours.",
            errorMessage: "Something went wrong. Please try again later.",
            
            directContact: "Or contact directly:",
            email: "info@upsellbusinessagency.com"
        },
        
        // Footer
        footer: {
            tagline: "Transforming businesses through intelligent software solutions.",
            services: "Services",
            company: "Company",
            aboutMe: "About Me",
            portfolio: "Portfolio",
            contact: "Contact",
            aiAutomation: "AI Automation",
            webDevelopment: "Web Development",
            mobileApps: "Mobile Apps",
            copyright: "© 2025 Upsell Business Agency. All rights reserved."
        }
    },
    
    nl: {
        // Navigation
        nav: {
            home: "Home",
            services: "Services",
            projects: "Projecten",
            about: "Over Mij",
            startProject: "Start Project"
        },
        
        // Hero Section
        hero: {
            title1: "Transformeer Uw Bedrijf",
            title2: "Met AI-Gedreven Software",
            subtitle: "Van intelligente klantenservice tot geavanceerde automatisering - ik creëer op maat gemaakte software die uw concurrentie ver achter zich laat.",
            cta1: "Ontdek de Mogelijkheden",
            cta2: "Bekijk Mijn Werk",
            stat1Value: "50+",
            stat1Label: "Succesvolle Projecten",
            stat2Value: "95%",
            stat2Label: "Klant Tevredenheid",
            stat3Value: "24/7",
            stat3Label: "AI Automatisering",
            scrollText: "Scroll voor meer"
        },
        
        // Services Section
        services: {
            label: "Wat Ik Bouw",
            title: "Software Die",
            titleAccent: "Resultaat",
            subtitle: "Elk project wordt met precisie ontwikkeld om uw specifieke uitdagingen op te lossen",
            
            service1Title: "AI Klantenservice Automatisering",
            service1Desc: "Intelligente chatbots en AI-agents die 24/7 klanten helpen, vragen beantwoorden en verkoop stimuleren - zonder menselijke tussenkomst.",
            service1Feature1: "Natural Language Processing",
            service1Feature2: "Multilinguale ondersteuning",
            service1Feature3: "Lerende algoritmes",
            
            service2Title: "Full-Stack Web Development",
            service2Desc: "Complete webapplicaties van concept tot deployment. React frontends, Node.js backends, en MongoDB databases - alles onder één dak.",
            service2Feature1: "Responsive design",
            service2Feature2: "Real-time functionaliteit",
            service2Feature3: "Schaalbare architectuur",
            
            service3Title: "Native Mobile Apps",
            service3Desc: "Krachtige mobiele applicaties voor iOS en Android met React Native. Één codebase, twee platforms, onbeperkte mogelijkheden.",
            service3Feature1: "Cross-platform development",
            service3Feature2: "Native performance",
            service3Feature3: "Push notifications & offline mode",
            
            service4Title: "Process Automation",
            service4Desc: "Automatiseer repetitieve taken en workflows. Van data processing tot email campagnes - laat software het zware werk doen.",
            service4Feature1: "Workflow orchestration",
            service4Feature2: "API integraties",
            service4Feature3: "Scheduled tasks & triggers"
        },
        
        // Projects Section
        projects: {
            label: "Portfolio",
            title: "Projecten Die",
            titleAccent: "Impact",
            subtitle: "Een selectie van mijn werk die laat zien wat mogelijk is",
            
            project1Title: "AI Customer Service Platform",
            project1Desc: "Een volledig geautomatiseerd klantenservice platform dat 85% van alle klantvragen zelfstandig afhandelt voor een grote e-commerce retailer.",
            project1Result1Value: "85%",
            project1Result1Label: "Minder support tickets",
            project1Result2Value: "3x",
            project1Result2Label: "Snellere response tijd",
            
            project2Title: "WaitSmart AI - Zorg Wachtlijst Manager",
            project2Desc: "AI-gedreven oplossing voor de Nederlandse wachtlijstcrisis. Reduceert wachttijden met 40% en verbetert datakwaliteit naar 95%+ voor 109.000+ GGZ patiënten.",
            project2Result1Value: "40%",
            project2Result1Label: "Kortere wachttijden",
            project2Result2Value: "€1.2M",
            project2Result2Label: "Jaarlijkse besparing",
            
            project3Title: "MagicCutAI - AI Creative Platform",
            project3Desc: "Een volledig AI-gedreven creatief platform voor video editing, image generation en logo design. Met geavanceerde character consistency.",
            project3Result1Value: "95%",
            project3Result1Label: "Kostenbesparing",
            project3Result2Value: "10x",
            project3Result2Label: "Sneller content",
            
            viewProject: "Live Demo →",
            viewWebsite: "Bezoek Website →",
            ctaText: "Benieuwd naar meer projecten?",
            ctaButton: "Laten We Praten"
        },
        
        // About Section
        about: {
            label: "Over Mij",
            title: "De Developer Die Uw",
            titleAccent: "Visie",
            titleEnd: "Realiseert",
            text1: "Als gepassioneerde full-stack developer met een specialisatie in AI, help ik bedrijven hun processen te transformeren met slimme software oplossingen. Van het automatiseren van klantenservice tot het bouwen van schaalbare web applicaties - ik zorg ervoor dat technologie voor u werkt, niet andersom.",
            text2: "Met expertise in React, Node.js, MongoDB en de nieuwste AI technologieën, creëer ik oplossingen die niet alleen vandaag werken, maar ook klaar zijn voor morgen. Elk project is een kans om iets unieks te bouwen dat echte waarde toevoegt.",
            experience: "5+ Jaar Ervaring",
            specialist: "AI Specialist"
        },
        
        // Contact Section
        contact: {
            label: "Contact",
            title: "Klaar Om Uw Bedrijf Te",
            titleAccent: "Transformeren",
            titleEnd: "?",
            text: "Laten we bespreken hoe AI en moderne software uw bedrijf naar het volgende niveau kan tillen. Geen verplichtingen, gewoon een goed gesprek over de mogelijkheden.",
            
            benefit1Title: "Gratis Consultatie",
            benefit1Text: "30 minuten brainstormen over uw project",
            benefit2Title: "ROI Analyse",
            benefit2Text: "Ontdek wat automatisering u kan opleveren",
            benefit3Title: "Snelle Start",
            benefit3Text: "Van idee naar werkende software in weken",
            
            nameLabel: "Uw Naam",
            emailLabel: "Email Adres",
            companyLabel: "Bedrijfsnaam",
            projectTypeLabel: "Selecteer Project Type",
            projectType1: "AI Automatisering",
            projectType2: "Web Applicatie",
            projectType3: "Mobile App",
            projectType4: "Full-Stack Project",
            projectType5: "Anders",
            messageLabel: "Vertel Me Over Uw Project",
            submitButton: "Start Uw Transformatie",
            
            successMessage: "Bedankt voor uw bericht! We nemen binnen 24 uur contact met u op.",
            errorMessage: "Er ging iets mis. Probeer het later opnieuw.",
            
            directContact: "Of direct contact:",
            email: "info@upsellbusinessagency.com"
        },
        
        // Footer
        footer: {
            tagline: "Transforming businesses through intelligent software solutions.",
            services: "Services",
            company: "Bedrijf",
            aboutMe: "Over Mij",
            portfolio: "Portfolio",
            contact: "Contact",
            aiAutomation: "AI Automatisering",
            webDevelopment: "Web Development",
            mobileApps: "Mobile Apps",
            copyright: "© 2025 Upsell Business Agency. All rights reserved."
        }
    }
};

// Translation function
function translate(key, lang = 'en') {
    const keys = key.split('.');
    let value = translations[lang];
    
    for (const k of keys) {
        if (value && value[k]) {
            value = value[k];
        } else {
            // Fallback to English if translation not found
            value = translations['en'];
            for (const fallbackKey of keys) {
                if (value && value[fallbackKey]) {
                    value = value[fallbackKey];
                } else {
                    return key; // Return key if translation not found
                }
            }
            break;
        }
    }
    
    return value;
}

// Set language and update all translations
function setLanguage(lang) {
    console.log('Setting language to:', lang);
    
    // Check if translations exist
    if (!translations || !translations[lang]) {
        console.error('Translations not found for language:', lang);
        return;
    }
    
    // Store language preference
    localStorage.setItem('preferredLanguage', lang);
    currentLang = lang;
    if (typeof window !== 'undefined') {
        window.currentLang = lang;
    }
    
    // Update language switcher buttons
    document.querySelectorAll('.lang-option').forEach(btn => {
        btn.classList.toggle('active', btn.getAttribute('data-lang') === lang);
    });
    
    // Update all elements with data-translate attribute
    const elements = document.querySelectorAll('[data-translate]');
    console.log('Found elements to translate:', elements.length);
    
    elements.forEach(element => {
        const key = element.getAttribute('data-translate');
        const translation = translate(key, lang);
        
        if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            element.placeholder = translation;
        } else if (element.tagName === 'LABEL' && element.getAttribute('for')) {
            // For labels, update the text content
            element.textContent = translation;
        } else {
            element.textContent = translation;
        }
    });
    
    // Update specific elements that need innerHTML or special handling
    updateSpecificTranslations(lang);
}

// Update specific elements that need special handling
function updateSpecificTranslations(lang) {
    // Hero title with gradient
    const heroTitle = document.querySelector('.hero-title');
    if (heroTitle) {
        heroTitle.innerHTML = `
            <span class="line-1">${translate('hero.title1', lang)}</span>
            <span class="line-2">${translate('hero.title2', lang).split(' ').slice(0, -1).join(' ')} <span class="gradient-text">${translate('hero.title2', lang).split(' ').pop()}</span></span>
        `;
    }
    
    // Services section title
    const servicesTitle = document.querySelector('#services .section-title');
    if (servicesTitle) {
        servicesTitle.innerHTML = `
            ${translate('services.title', lang)} <span class="gradient-text">${translate('services.titleAccent', lang)}</span> ${lang === 'nl' ? 'Levert' : ''}
        `;
    }
    
    // Projects section title
    const projectsTitle = document.querySelector('#projects .section-title');
    if (projectsTitle) {
        projectsTitle.innerHTML = `
            ${translate('projects.title', lang)} <span class="gradient-text">${translate('projects.titleAccent', lang)}</span> ${lang === 'nl' ? 'Maken' : ''}
        `;
    }
    
    // About section title
    const aboutTitle = document.querySelector('#about .section-title');
    if (aboutTitle) {
        aboutTitle.innerHTML = `
            ${translate('about.title', lang)} <span class="gradient-text">${translate('about.titleAccent', lang)}</span> ${translate('about.titleEnd', lang)}
        `;
    }
    
    // Contact section title
    const contactTitle = document.querySelector('#contact .section-title');
    if (contactTitle) {
        contactTitle.innerHTML = `
            ${translate('contact.title', lang)} <span class="gradient-text">${translate('contact.titleAccent', lang)}</span>${translate('contact.titleEnd', lang)}
        `;
    }
}

// Initialize on page load
let currentLang = 'en';

// Make functions available globally immediately
if (typeof window !== 'undefined') {
    window.translate = translate;
    window.setLanguage = setLanguage;
    window.currentLang = currentLang;
}

if (typeof document !== 'undefined') {
    document.addEventListener('DOMContentLoaded', () => {
        console.log('Initializing translations...');
        
        // Add click handlers to language buttons
        document.querySelectorAll('.lang-option').forEach(btn => {
            btn.addEventListener('click', function() {
                const lang = this.getAttribute('data-lang');
                console.log('Language button clicked:', lang);
                setLanguage(lang);
            });
        });
        
        // Default to English
        const savedLang = localStorage.getItem('preferredLanguage') || 'en';
        setLanguage(savedLang);
        console.log('Language set to:', savedLang);
    });
}